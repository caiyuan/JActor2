<html>
<body>
<p>
<a href="https://github.com/laforge49/JActor2#readme">JActor2</a> &gt; <a href="../../index.html">Docs</a> &gt; <a href="../index.html">Tutorials</a> &gt; <a href="index.html">Modules</a> &gt; Immutables
</p>
<h1>Immutables - Not just for Functional Programming</h1>
<p>
Immutable data structures are well known in the Functional Programming community, though otherwise relatively obscure.
This needs to change, as immutable data structures are ideal for use on multi-core systems.
These are write-once data structures, so there are no complications when accessed from more than one core.
</p>
<p>
But the good news does not end there. Updates to immutable data structures are handled by creating virtual copies
that share most of the sub-structures of the original. This minimizes the amount of data that needs to be loaded
into the local cache when accessing an updated version.
</p>
<p>
Immutable data structures should not be confused with the unmodifiable collections created by the Collections class in util.
Those are unmodifiable views over a mutable collection, giving rise to the distinct possibility that the so called 
unmodifiable collection will be modified.
</p>
<p>
Immutable data structures then have the distinct feature of providing a consistent view across the contents of the 
structure. Changes can be made, but are only accessible by accessing the new version. This is a feature that neither 
unmodifiable nor concurrent data structures can provide. This feature was instead commonly provided through the use of 
read/write locks or transactional queries.
</p>
<p>
The <a href="../../api/org/agilewiki/jactor2/modules/immutable/package-summary.html">immutable</a> package
has an <a href="../../api/org/agilewiki/jactor2/modules/immutable/ImmutableProperties.html">ImmutableProperties</a>
interface for an extended immutable map&lt;String, ?&gt;.
This package also provides an implementation of that interface,
<a href="../../api/org/agilewiki/jactor2/modules/immutable/HashTreePProperties.html">HashTreePProperties</a>.
And <a href="java7/HashTreePPropertiesSample.java">here</a> is a sample usage:
</p>
<pre>
import org.agilewiki.jactor2.core.util.immutable.HashTreePProperties;
import org.agilewiki.jactor2.core.util.immutable.ImmutableProperties;

public class HashTreePPropertiesSample {
    public static void main(final String[] args) {
        ImmutableProperties&lt;String&gt; ip = HashTreePProperties.empty();
        ip = ip.plus("one", "1");
        ip = ip.plus("two", "2");
        ImmutableProperties&lt;String&gt; ip2 = ip;
        ip = ip.plus("three", "3");
        System.out.println(ip2.sortedKeySet());
        System.out.println(ip.subMap("t").sortedKeySet());
    }
}

Output:

[one, two]
[three, two]
</pre>
</body>
</html>
